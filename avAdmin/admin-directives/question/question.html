<div class="question">
    <div class="row short">
        <div class="col-sm-10">
            {{ q.title|truncate:200 }}
        </div>
        <div class="col-sm-2 text-right buttons">
            <i ng-click="expandQuestion($index)" class="fa fa-chevron-down fa-sw" ng-if="!q.active"></i>
            <i ng-click="collapseQuestion($index)" class="fa fa-chevron-up fa-sw" ng-if="q.active"></i>
            <i ng-click="delQuestion($index)" class="fa fa-times fa-sw"></i>
        </div>
    </div>

    <!-- question form -->
    <form class="row form qform" ng-if="q.active">
        <div class="col-xs-12">

            <!-- title -->
            <div class="form-group">
                <label class="col-sm-2" for="title" ng-i18next="avAdmin.basic.title.label"></label>
                <div class="col-sm-10">
                    <input id="title" class="form-control" type="text" ng-i18next="[placeholder]avAdmin.basic.title.placeholder" ng-model="q.title"/>
                </div>
            </div>

            <!-- description -->
            <div class="form-group">
                <label class="col-sm-2" for="desc" ng-i18next="avAdmin.basic.description.label"></label>
                <div class="col-sm-10">
                    <textarea id="desc" class="form-control" ng-i18next="[placeholder]avAdmin.basic.description.placeholder" ng-model="q.description"></textarea>
                </div>
            </div>

            <!-- voting system -->
            <div class="form-group">
                <label class="col-sm-2" for="layout" ng-i18next>Voting system</label>
                <div class="col-sm-10">
                    <p class="text-muted" ng-i18next>
                        Voting system
                    </p>
                    <div class="radio" ng-repeat="o in vsystems">
                        <label>
                            <input type="radio" name="layout" value="{{ o }}" ng-model="q.tally_type"/>
                            <span ng-i18next>{{ o }}</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- number of winners -->
            <div class="form-group">
                <label class="col-sm-2" for="winners" ng-i18next>Winners</label>
                <div class="col-sm-10">
                    <p class="text-muted" ng-i18next> Number of winners </p>
                    <div class="input-group">
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="incOpt($index, 'num_winners', -1)">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                      </span>
                      <input type="text" id="max" name="max" min=0 step=1 class="form-control" ng-model="q.num_winners" required/>
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="incOpt($index, 'num_winners', 1)">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                      </span>
                    </div>
                </div>
            </div>

            <!-- Minium -->
            <div class="form-group">
                <label class="col-sm-2" for="winners" ng-i18next>Minimum</label>
                <div class="col-sm-10">
                    <p class="text-muted" ng-i18next> Minumum </p>
                    <div class="input-group">
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="incOpt($index, 'min', -1)">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                      </span>
                      <input type="text" id="max" name="max" min=0 step=1 class="form-control" ng-model="q.min" required/>
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="incOpt($index, 'min', 1)">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                      </span>
                    </div>
                </div>
            </div>

            <!-- Maximum -->
            <div class="form-group">
                <label class="col-sm-2" for="winners" ng-i18next>Maximum</label>
                <div class="col-sm-10">
                    <p class="text-muted" ng-i18next> Maximum </p>
                    <div class="input-group">
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="incOpt($index, 'max', -1)">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                      </span>
                      <input type="text" id="max" name="max" min=0 step=1 class="form-control" ng-model="q.max" required/>
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="incOpt($index, 'max', 1)">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                      </span>
                    </div>
                </div>
            </div>

            <!-- Randomize -->
            <div class="form-group">
                <label class="col-sm-2" for="layout" ng-i18next>Randomize</label>
                <div class="col-sm-10">
                    <p class="text-muted" ng-i18next>
                        Randomize
                    </p>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" name="random" value="false" ng-model="q.randomize_answer_order"/>
                            <span ng-i18next>Randomize</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Candidates -->
            <div class="form-group">
                <label class="col-sm-2" for="layout" ng-i18next>Candidates</label>
                <div class="col-sm-10">
                    <p class="text-muted" ng-i18next>
                        Candidates
                    </p>

                    <div class="col-sm-12">

                        <div class="row option" ng-repeat="a in q.answers">
                            <div class="col-sm-10">{{ a.text }}</div>
                            <div class="col-sm-2 buttons text-right">
                                <i class="fa fa-times fa-sw" ng-click="delOption($parent.$index, $index)"></i>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 newopt">
                                <div class="input-group">
                                  <input type="text" id="newopt" class="form-control" ng-enter="addOption($index)"/>
                                  <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" ng-click="addOption($index)">
                                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                    </button>
                                  </span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- endof candidates -->

        </div>
    </form>
</div>
